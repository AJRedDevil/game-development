<!DOCTYPE html>
<html>

<head>
	<title>Animating Asteroids</title>
	<link rel="stylesheet" href="./styles.css">
	<script src="./drawing.js"></script>
</head>

<body>
	<h1>Animating Asteroids</h1>
	<canvas id="asteroids" width="300" height="300"></canvas>
	<script>
		const context = document.getElementById("asteroids").getContext("2d");

		// asteroid shape
		const segments = 24;
		const shape = [];
		for (let i = 0; i < segments; i++) {
			shape.push(Math.random() - 0.5);
		}
		const radius = 50;
		const noise = 0.2;

		// asteroid state
		let x = context.canvas.width * Math.random();
		let y = context.canvas.height * Math.random();
		let angle = 0;

		// asteroid movement
		let x_speed = context.canvas.width * (Math.random() - 0.5);
		let y_speed = context.canvas.height * (Math.random() - 0.5);
		let rotation_speed = 2 * Math.PI * (Math.random() - 0.5);

		function draw(ctx, guide) {
			if (guide) {
				draw_grid({ ctx });
			}
			ctx.save();
			ctx.translate(x, y);
			ctx.rotate(angle);
			draw_asteroid(ctx, radius, shape, { guide: guide, noise: noise });
			ctx.restore();
		}
	</script>
</body>

</html>